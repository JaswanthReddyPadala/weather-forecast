"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("content-type");function n(){return(n=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function r(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n.indexOf(r=o[t])>=0||(a[r]=e[r]);return a}var t=o((function(e){return"string"==typeof e?e:null})),a=function(e){return null!=e};function o(e){return function(n){return a(e(n))}}var s=function(e){return Object.keys(e).reduce((function(r,t){var o,s=e[t];return n({},r,a(s)?((o={})[t]=s,o):{})}),{})};function i(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=n.length-1;return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];for(var o=n[0].apply(this,r),s=1;s<=t;s++)o=n[s].call(this,o);return o}}var u,l,c=o((function(e){return a(e)&&"object"==typeof e&&!Array.isArray(e)?e:null})),h=o((function(e){return Array.isArray(e)&&e.every(t)&&e.length>0?e:null})),d=o((function(e){return c(e)&&"errors"in e&&h(e.errors)?{errors:e.errors}:null})),p=function(e){this.message=e},f=function(n){if(function(n){var r=n.headers.get("content-type");return a(r)&&"application/json"===e.parse(r).type}(n))return n.json().catch((function(e){throw new p("unable to parse JSON response.")}));throw new p("expected JSON response from server.")},y=function(){return function(e){return f(e.response)}},g=function(e){return function(t,a){void 0===a&&(a={});var o=e(t),s=o.headers,i=o.query;return n({},r(o,["headers","query"]),a,{query:i,headers:n({},s,a.headers)})}},m=function(e){var t=e.accessKey,o=e.apiVersion,s=void 0===o?"v1":o,u=e.apiUrl,l=void 0===u?"https://api.unsplash.com":u,c=e.headers,h=e.fetch,y=r(e,["accessKey","apiVersion","apiUrl","headers","fetch"]);return function(e){var r=e.handleResponse;return i(e.handleRequest,(function(e){var o=e.method,i=void 0===o?"GET":o,u=e.headers,g=e.body,m=e.signal,q=function(e){var n=e.pathname,r=e.query;return function(e){var t=new URL(n,e);return function(e){return function(n){Object.keys(e).forEach((function(r){return n.searchParams.set(r,e[r].toString())}))}}(r)(t),t.toString()}}({pathname:e.pathname,query:e.query})(l),v=n({method:i,headers:n({},c,u,{"Accept-Version":s},a(t)?{Authorization:"Client-ID "+t}:{}),body:g,signal:m},y);return(null!=h?h:fetch)(q,v).then(function(e){return function(r){return(r.ok?e({response:r}).then((function(e){return{type:"success",status:r.status,response:e}})):f(r).then((function(e){return n({type:"error",status:r.status},function(e){return d(e)?{errors:e.errors,source:"api"}:{errors:["Responded with a status code outside the 2xx range, and the response body is not recognisable."],source:"decoding"}}(e))}))).catch((function(e){if(e instanceof p)return{type:"error",source:"decoding",status:r.status,errors:[e.message]};throw e}))}}(r))}))}},q=function(e){var n=e.headers.get("x-total");if(a(n)){var r=parseInt(n);if(Number.isInteger(r))return r;throw new p("expected x-total header to be valid integer.")}throw new p("expected x-total header to exist.")},v=function(){return function(e){var n=e.response;return y()({response:n}).then((function(e){return{results:e,total:q(n)}}))}},R=function(e){return a(e)?{collections:e.join()}:{}},b=function(e){return s({per_page:e.perPage,order_by:e.orderBy,page:e.page})},w={handleRequest:g((function(e){var t=e.collectionId,a=e.orientation,o=r(e,["collectionId","orientation"]);return{pathname:"/collections/"+t+"/photos",query:s(n({},b(o),{orientation:a}))}})),handleResponse:v()},k={handleRequest:g((function(e){return{pathname:"/collections/"+e.collectionId,query:{}}})),handleResponse:y()},S={handleRequest:g((function(e){return void 0===e&&(e={}),{pathname:"/collections",query:b(e)}})),handleResponse:v()},x={handleRequest:g((function(e){return{pathname:"/collections/"+e.collectionId+"/related",query:{}}})),handleResponse:y()},I={handleRequest:g((function(e){return void 0===e&&(e={}),{pathname:"/photos",query:s(b(e))}})),handleResponse:v()},P={handleRequest:g((function(e){return{pathname:"/photos/"+e.photoId,query:{}}})),handleResponse:y()},j={handleRequest:g((function(e){return{pathname:"/photos/"+e.photoId+"/statistics",query:{}}})),handleResponse:y()},A={handleRequest:g((function(e){var t=void 0===e?{}:e,a=t.collectionIds,o=r(t,["collectionIds"]);return{pathname:"/photos/random",query:s(n({},o,R(a))),headers:{"cache-control":"no-cache"}}})),handleResponse:y()},O={handleRequest:g((function(e){var n=function(e){var n=new URL(e),r=n.pathname,t={};return n.searchParams.forEach((function(e,n){t[n]=e})),{query:t,pathname:"/"===r?void 0:r}}(e.downloadLocation),r=n.pathname,t=n.query;if(!a(r))throw new Error("Could not parse pathname from url.");return{pathname:r,query:s(t)}})),handleResponse:y()},L={handleRequest:g((function(e){var t=e.query,a=e.page,o=e.perPage,i=e.orderBy,u=e.collectionIds,l=e.lang,c=e.contentFilter,h=r(e,["query","page","perPage","orderBy","collectionIds","lang","contentFilter"]);return{pathname:"/search/photos",query:s(n({query:t,content_filter:c,lang:l,order_by:i},b({page:a,perPage:o}),R(u),h))}})),handleResponse:y()},T={handleRequest:g((function(e){var t=e.query,a=r(e,["query"]);return{pathname:"/search/collections",query:n({query:t},b(a))}})),handleResponse:y()},C={handleRequest:g((function(e){var t=e.query,a=r(e,["query"]);return{pathname:"/search/users",query:n({query:t},b(a))}})),handleResponse:y()},z={handleRequest:g((function(e){return{pathname:"/users/"+e.username,query:{}}})),handleResponse:y()},B={handleRequest:g((function(e){var t=e.username,a=e.stats,o=e.orientation,i=r(e,["username","stats","orientation"]);return{pathname:"/users/"+t+"/photos",query:s(n({},b(i),{orientation:o,stats:a}))}})),handleResponse:v()},M={handleRequest:g((function(e){var t=e.username,a=e.orientation,o=r(e,["username","orientation"]);return{pathname:"/users/"+t+"/likes",query:s(n({},b(o),{orientation:a}))}})),handleResponse:v()},U={handleRequest:g((function(e){var n=e.username,t=r(e,["username"]);return{pathname:"/users/"+n+"/collections",query:b(t)}})),handleResponse:v()};(u=exports.Language||(exports.Language={})).Afrikaans="af",u.Amharic="am",u.Arabic="ar",u.Azerbaijani="az",u.Belarusian="be",u.Bulgarian="bg",u.Bengali="bn",u.Bosnian="bs",u.Catalan="ca",u.Cebuano="ceb",u.Corsican="co",u.Czech="cs",u.Welsh="cy",u.Danish="da",u.German="de",u.Greek="el",u.English="en",u.Esperanto="eo",u.Spanish="es",u.Estonian="et",u.Basque="eu",u.Persian="fa",u.Finnish="fi",u.French="fr",u.Frisian="fy",u.Irish="ga",u.ScotsGaelic="gd",u.Galician="gl",u.Gujarati="gu",u.Hausa="ha",u.Hawaiian="haw",u.Hindi="hi",u.Hmong="hmn",u.Croatian="hr",u.HaitianCreole="ht",u.Hungarian="hu",u.Armenian="hy",u.Indonesian="id",u.Igbo="ig",u.Icelandic="is",u.Italian="it",u.Hebrew="iw",u.Japanese="ja",u.Javanese="jw",u.Georgian="ka",u.Kazakh="kk",u.Khmer="km",u.Kannada="kn",u.Korean="ko",u.Kurdish="ku",u.Kyrgyz="ky",u.Latin="la",u.Luxembourgish="lb",u.Lao="lo",u.Lithuanian="lt",u.Latvian="lv",u.Malagasy="mg",u.Maori="mi",u.Macedonian="mk",u.Malayalam="ml",u.Mongolian="mn",u.Marathi="mr",u.Malay="ms",u.Maltese="mt",u.Myanmar="my",u.Nepali="ne",u.Dutch="nl",u.Norwegian="no",u.Nyanja="ny",u.Oriya="or",u.Punjabi="pa",u.Polish="pl",u.Pashto="ps",u.Portuguese="pt",u.Romanian="ro",u.Russian="ru",u.Kinyarwanda="rw",u.Sindhi="sd",u.Sinhala="si",u.Slovak="sk",u.Slovenian="sl",u.Samoan="sm",u.Shona="sn",u.Somali="so",u.Albanian="sq",u.Serbian="sr",u.Sesotho="st",u.Sundanese="su",u.Swedish="sv",u.Swahili="sw",u.Tamil="ta",u.Telugu="te",u.Tajik="tg",u.Thai="th",u.Turkmen="tk",u.Filipino="tl",u.Turkish="tr",u.Tatar="tt",u.Uighur="ug",u.Ukrainian="uk",u.Urdu="ur",u.Uzbek="uz",u.Vietnamese="vi",u.Xhosa="xh",u.Yiddish="yi",u.Yoruba="yo",u.ChineseSimplified="zh",u.ChineseTraditional="zh-TW",u.Zulu="zu",(l=exports.OrderBy||(exports.OrderBy={})).LATEST="latest",l.POPULAR="popular",l.OLDEST="oldest",exports.createApi=i(m,(function(e){return{photos:{get:e(P),list:e(I),getStats:e(j),getRandom:e(A),trackDownload:e(O)},users:{getPhotos:e(B),getCollections:e(U),getLikes:e(M),get:e(z)},search:{getCollections:e(T),getPhotos:e(L),getUsers:e(C)},collections:{getPhotos:e(w),get:e(k),list:e(S),getRelated:e(x)}}}));
//# sourceMappingURL=unsplash-js.cjs.production.min.js.map
